<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://java.sun.com/jsf/facelets"
>

<t:composition template="/WEB-INF/templates/standardtemplate.xhtml">
	<t:define name="pagetitle">#{msg['create.title']}</t:define>
	<t:define name="content">
		<f:view>
			<h:form>
				<h:panelGrid columns="2">
					<h:outputText value="#{msg['create.author']}" />
					<h:inputText value="#{book.author}" />
					
					<h:outputText value="#{msg['create.name']}" />
					<h:inputText value="#{book.name}" />
					
					<h:outputText value="#{msg['create.publishDate']}" />
					<h:inputText value="#{book.publishDate}" />
					
					<h:outputText value="#{msg['create.language']}" />
					<h:selectOneListbox value="#{book.language}">
						<f:selectItems value="#{book.languages}"></f:selectItems>
						<f:valueChangeListener type="jsfbeans.LanguageValueChangeListener"></f:valueChangeListener>	
					</h:selectOneListbox>
					
					<h:outputText value="#{msg['create.price']}" />
					<h:inputText value="#{book.price}" />
					
					<h:outputText value="#{msg['create.departments']}" />
					<h:selectManyListbox
						value="#{book.emailaddresses}"
						valueChangeListener="#{book.emailAddressChanged}"
					>
						<f:selectItem itemValue="abteilung1@mycompany.de" itemLabel="Abteilung 1" />		
						<f:selectItem itemValue="abteilung2@mycompany.de" itemLabel="Abteilung 2" />
						<f:ajax event="valueChange" listener="#{book.emailAddressChangedAjax}" render="sm" />
					</h:selectManyListbox>
				</h:panelGrid>
				
				<h:outputText value="#{book.specialmessage}" id="sm" /><br />
		
				<!--  actionListener-Methode wird vor action-Methode aufgerufen -->
				<h:commandButton
					value="#{msg['create.save']}"
					action="#{book.save}"
					actionListener="#{book.saveListener}"
				/>
			</h:form>
		</f:view>
	</t:define>
</t:composition>
</html>