<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Bucherfassung</title>
</head>
<body>
<f:view>
	<h:form>
		<h:panelGrid columns="2">
			<h:outputText value="Autor" />
			<h:inputText value="#{book.author}" />
			
			<h:outputText value="Titel" />
			<h:inputText value="#{book.name}" />
			
			<h:outputText value="Erscheinungsdatum" />
			<h:inputText value="#{book.publishDate}" />
			
			<h:outputText value="Sprache" />
			<h:selectOneListbox value="#{book.language}">
				<f:selectItems value="#{book.languages}"></f:selectItems>
				<f:valueChangeListener type="jsfbeans.LanguageValueChangeListener"></f:valueChangeListener>	
			</h:selectOneListbox>
			
			<h:outputText value="Preis" />
			<h:inputText value="#{book.price}" />
			
			<h:outputText value="Abteilungen, die benachrichtigt werden" />
			<h:selectManyListbox
				value="#{book.emailaddresses}"
				valueChangeListener="#{book.emailAddressChanged}"
			>
				<f:selectItem itemValue="abteilung1@mycompany.de" itemLabel="Abteilung 1" />		
				<f:selectItem itemValue="abteilung2@mycompany.de" itemLabel="Abteilung 2" />
			</h:selectManyListbox>
		</h:panelGrid>

		<!--  actionListener-Methode wird vor action-Methode aufgerufen -->
		<h:commandButton
			value="Abspeichern"
			action="#{book.save}"
			actionListener="#{book.saveListener}"
		/>
	</h:form>
</f:view>
</body>
</html>